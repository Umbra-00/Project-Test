{"timestamp": "2025-07-10T06:58:51.097133Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140467840641920, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-10T06:58:51.153414Z", "level": "ERROR", "logger": "src.api.v1.endpoints.recommendations", "message": "Failed to train Recommendation Model: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "recommendations", "function": "startup_event", "line": 66, "thread": 140467840641920, "thread_name": "MainThread", "process": 8, "exception": {"type": "DatabaseError", "message": "500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 33, in startup_event\n    reco_model.load_model(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 107, in load_model\n    self.tfidf_vectorizer = mlflow.sklearn.load_model(\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/sklearn/__init__.py\", line 613, in load_model\n    local_model_path = _download_artifact_from_uri(artifact_uri=model_uri, output_path=dst_path)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/tracking/artifact_utils.py\", line 100, in _download_artifact_from_uri\n    return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/models_artifact_repo.py\", line 178, in download_artifacts\n    model_path = self.repo.download_artifacts(artifact_path, dst_path)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/local_artifact_repo.py\", line 81, in download_artifacts\n    raise OSError(f\"No such file or directory: '{local_artifact_path}'\")\n", "OSError: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "psycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/crud.py\", line 85, in get_courses\n    return query.offset(skip).limit(limit).all()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2688, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2842, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2231, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2116, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1983, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"<string>\", line 2, in _connection_for_bind\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1110, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3264, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2426, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 54, in startup_event\n    reco_model.train(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 64, in train\n    self.course_data = self._get_course_data_from_db(db_session)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 39, in _get_course_data_from_db\n    courses_db = get_courses(db_session)  # Use the CRUD function to get courses\n                 ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/api/v1/crud.py\", line 87, in get_courses\n    raise DatabaseError(detail=f\"Could not retrieve courses: {e}\") from e\n", "src.api.v1.exceptions.DatabaseError: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n"]}, "error_type": "DatabaseError"}
{"timestamp": "2025-07-10T06:59:46.083782Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140621555862400, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-10T06:59:46.132506Z", "level": "ERROR", "logger": "src.api.v1.endpoints.recommendations", "message": "Failed to train Recommendation Model: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "recommendations", "function": "startup_event", "line": 66, "thread": 140621555862400, "thread_name": "MainThread", "process": 8, "exception": {"type": "DatabaseError", "message": "500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 33, in startup_event\n    reco_model.load_model(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 107, in load_model\n    self.tfidf_vectorizer = mlflow.sklearn.load_model(\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/sklearn/__init__.py\", line 613, in load_model\n    local_model_path = _download_artifact_from_uri(artifact_uri=model_uri, output_path=dst_path)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/tracking/artifact_utils.py\", line 100, in _download_artifact_from_uri\n    return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/models_artifact_repo.py\", line 178, in download_artifacts\n    model_path = self.repo.download_artifacts(artifact_path, dst_path)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/local_artifact_repo.py\", line 81, in download_artifacts\n    raise OSError(f\"No such file or directory: '{local_artifact_path}'\")\n", "OSError: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "psycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/crud.py\", line 85, in get_courses\n    return query.offset(skip).limit(limit).all()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2688, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2842, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2231, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2116, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1983, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"<string>\", line 2, in _connection_for_bind\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1110, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3264, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2426, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 54, in startup_event\n    reco_model.train(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 64, in train\n    self.course_data = self._get_course_data_from_db(db_session)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 39, in _get_course_data_from_db\n    courses_db = get_courses(db_session)  # Use the CRUD function to get courses\n                 ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/api/v1/crud.py\", line 87, in get_courses\n    raise DatabaseError(detail=f\"Could not retrieve courses: {e}\") from e\n", "src.api.v1.exceptions.DatabaseError: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n"]}, "error_type": "DatabaseError"}
{"timestamp": "2025-07-10T07:00:28.754327Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140292210826112, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-10T07:00:28.804508Z", "level": "ERROR", "logger": "src.api.v1.endpoints.recommendations", "message": "Failed to train Recommendation Model: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "recommendations", "function": "startup_event", "line": 66, "thread": 140292210826112, "thread_name": "MainThread", "process": 8, "exception": {"type": "DatabaseError", "message": "500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 33, in startup_event\n    reco_model.load_model(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 107, in load_model\n    self.tfidf_vectorizer = mlflow.sklearn.load_model(\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/sklearn/__init__.py\", line 613, in load_model\n    local_model_path = _download_artifact_from_uri(artifact_uri=model_uri, output_path=dst_path)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/tracking/artifact_utils.py\", line 100, in _download_artifact_from_uri\n    return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/models_artifact_repo.py\", line 178, in download_artifacts\n    model_path = self.repo.download_artifacts(artifact_path, dst_path)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/local_artifact_repo.py\", line 81, in download_artifacts\n    raise OSError(f\"No such file or directory: '{local_artifact_path}'\")\n", "OSError: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "psycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/crud.py\", line 85, in get_courses\n    return query.offset(skip).limit(limit).all()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2688, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2842, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2231, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2116, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1983, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"<string>\", line 2, in _connection_for_bind\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1110, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3264, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2426, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3288, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1268, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 168, in _do_get\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 166, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 678, in __init__\n    self.__connect()\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 902, in __connect\n    with util.safe_reraise():\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 147, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 637, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 54, in startup_event\n    reco_model.train(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 64, in train\n    self.course_data = self._get_course_data_from_db(db_session)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 39, in _get_course_data_from_db\n    courses_db = get_courses(db_session)  # Use the CRUD function to get courses\n                 ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/api/v1/crud.py\", line 87, in get_courses\n    raise DatabaseError(detail=f\"Could not retrieve courses: {e}\") from e\n", "src.api.v1.exceptions.DatabaseError: 500: Could not retrieve courses: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n"]}, "error_type": "DatabaseError"}
{"timestamp": "2025-07-11T17:41:49.645509Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140402820901760, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T17:41:49.860257Z", "level": "ERROR", "logger": "src.api.v1.endpoints.recommendations", "message": "Failed to train Recommendation Model: 500: Could not retrieve courses: (psycopg2.errors.UndefinedTable) relation \"courses\" does not exist\nLINE 2: FROM courses \n             ^\n\n[SQL: SELECT courses.id AS courses_id, courses.title AS courses_title, courses.description AS courses_description, courses.url AS courses_url, courses.instructor AS courses_instructor, courses.price AS courses_price, courses.currency AS courses_currency, courses.difficulty AS courses_difficulty, courses.category AS courses_category, courses.platform AS courses_platform, courses.created_by_user_id AS courses_created_by_user_id, courses.creation_date AS courses_creation_date, courses.difficulty_level AS courses_difficulty_level, courses.ai_generated_version AS courses_ai_generated_version \nFROM courses \n LIMIT %(param_1)s OFFSET %(param_2)s]\n[parameters: {'param_1': 100, 'param_2': 0}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "recommendations", "function": "startup_event", "line": 66, "thread": 140402820901760, "thread_name": "MainThread", "process": 8, "exception": {"type": "DatabaseError", "message": "500: Could not retrieve courses: (psycopg2.errors.UndefinedTable) relation \"courses\" does not exist\nLINE 2: FROM courses \n             ^\n\n[SQL: SELECT courses.id AS courses_id, courses.title AS courses_title, courses.description AS courses_description, courses.url AS courses_url, courses.instructor AS courses_instructor, courses.price AS courses_price, courses.currency AS courses_currency, courses.difficulty AS courses_difficulty, courses.category AS courses_category, courses.platform AS courses_platform, courses.created_by_user_id AS courses_created_by_user_id, courses.creation_date AS courses_creation_date, courses.difficulty_level AS courses_difficulty_level, courses.ai_generated_version AS courses_ai_generated_version \nFROM courses \n LIMIT %(param_1)s OFFSET %(param_2)s]\n[parameters: {'param_1': 100, 'param_2': 0}]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": ["Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 33, in startup_event\n    reco_model.load_model(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 107, in load_model\n    self.tfidf_vectorizer = mlflow.sklearn.load_model(\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/sklearn/__init__.py\", line 613, in load_model\n    local_model_path = _download_artifact_from_uri(artifact_uri=model_uri, output_path=dst_path)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/tracking/artifact_utils.py\", line 100, in _download_artifact_from_uri\n    return get_artifact_repository(artifact_uri=root_uri).download_artifacts(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/models_artifact_repo.py\", line 178, in download_artifacts\n    model_path = self.repo.download_artifacts(artifact_path, dst_path)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/mlflow/store/artifact/local_artifact_repo.py\", line 81, in download_artifacts\n    raise OSError(f\"No such file or directory: '{local_artifact_path}'\")\n", "OSError: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1963, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 920, in do_execute\n    cursor.execute(statement, parameters)\n", "psycopg2.errors.UndefinedTable: relation \"courses\" does not exist\nLINE 2: FROM courses \n             ^\n\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/crud.py\", line 85, in get_courses\n    return query.offset(skip).limit(limit).all()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2688, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2842, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2231, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2126, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 292, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1413, in execute\n    return meth(\n           ^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 483, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1637, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1841, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1982, in _exec_single_context\n    self._handle_dbapi_exception(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2339, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1963, in _exec_single_context\n    self.dialect.do_execute(\n", "  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 920, in do_execute\n    cursor.execute(statement, parameters)\n", "sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"courses\" does not exist\nLINE 2: FROM courses \n             ^\n\n[SQL: SELECT courses.id AS courses_id, courses.title AS courses_title, courses.description AS courses_description, courses.url AS courses_url, courses.instructor AS courses_instructor, courses.price AS courses_price, courses.currency AS courses_currency, courses.difficulty AS courses_difficulty, courses.category AS courses_category, courses.platform AS courses_platform, courses.created_by_user_id AS courses_created_by_user_id, courses.creation_date AS courses_creation_date, courses.difficulty_level AS courses_difficulty_level, courses.ai_generated_version AS courses_ai_generated_version \nFROM courses \n LIMIT %(param_1)s OFFSET %(param_2)s]\n[parameters: {'param_1': 100, 'param_2': 0}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"/app/src/api/v1/endpoints/recommendations.py\", line 54, in startup_event\n    reco_model.train(db_session=db)\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 64, in train\n    self.course_data = self._get_course_data_from_db(db_session)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/model_development/recommendation/recommendation_model.py\", line 39, in _get_course_data_from_db\n    courses_db = get_courses(db_session)  # Use the CRUD function to get courses\n                 ^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"/app/src/api/v1/crud.py\", line 87, in get_courses\n    raise DatabaseError(detail=f\"Could not retrieve courses: {e}\") from e\n", "src.api.v1.exceptions.DatabaseError: 500: Could not retrieve courses: (psycopg2.errors.UndefinedTable) relation \"courses\" does not exist\nLINE 2: FROM courses \n             ^\n\n[SQL: SELECT courses.id AS courses_id, courses.title AS courses_title, courses.description AS courses_description, courses.url AS courses_url, courses.instructor AS courses_instructor, courses.price AS courses_price, courses.currency AS courses_currency, courses.difficulty AS courses_difficulty, courses.category AS courses_category, courses.platform AS courses_platform, courses.created_by_user_id AS courses_created_by_user_id, courses.creation_date AS courses_creation_date, courses.difficulty_level AS courses_difficulty_level, courses.ai_generated_version AS courses_ai_generated_version \nFROM courses \n LIMIT %(param_1)s OFFSET %(param_2)s]\n[parameters: {'param_1': 100, 'param_2': 0}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n"]}, "error_type": "DatabaseError"}
{"timestamp": "2025-07-11T17:44:58.825890Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 139869230209920, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T17:44:59.007788Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 139869230209920, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T18:08:42.545545Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140128719178624, "thread_name": "MainThread", "process": 32}
{"timestamp": "2025-07-11T18:08:42.875518Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140128719178624, "thread_name": "MainThread", "process": 32}
{"timestamp": "2025-07-11T18:08:55.982211Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140434202291072, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T18:08:56.234621Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140434202291072, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T18:59:48.407640Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140394813090688, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T18:59:48.610688Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140394813090688, "thread_name": "MainThread", "process": 8}
{"timestamp": "2025-07-11T19:08:57.168648Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140199600954240, "thread_name": "MainThread", "process": 9}
{"timestamp": "2025-07-11T19:08:57.421354Z", "level": "ERROR", "logger": "src.model_development.recommendation.recommendation_model", "message": "Failed to load model 'CourseRecommendationModel' version 'latest' from MLflow: No such file or directory: '/C:/Users/aksha/Documents/Data Project/mlruns/0/models/m-4ec15162b26349218cdec91fdd0be4cc/artifacts/.'", "module": "recommendation_model", "function": "load_model", "line": 133, "thread": 140199600954240, "thread_name": "MainThread", "process": 9}
